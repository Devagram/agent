---
type Props = {
  title?: string;
  message: string;
  details?: string;
};

const { title = 'Something went wrong', message, details } = Astro.props as Props;
---

<section class="error" role="alert">
  <div class="error__inner">
    <h1 class="error__title">{title}</h1>
    <p class="error__message">{message}</p>
    {details ? (
      <details class="error__details">
        <summary>Details</summary>
        <pre>{details}</pre>
      </details>
    ) : null}
  </div>
</section>

<style>
  @import '../styles/tokens.css';

  .error {
    padding: var(--space-12) 0;
  }

  .error__inner {
    width: min(1100px, 92vw);
    margin: 0 auto;
    padding: var(--space-6);
    border-radius: var(--radius-lg);
    border: 1px solid rgba(239, 68, 68, 0.35);
    background: rgba(239, 68, 68, 0.08);
    color: var(--color-text);
  }

  .error__title {
    margin: 0;
    font-size: 1.6rem;
    letter-spacing: -0.01em;
  }

  .error__message {
    margin: var(--space-3) 0 0;
    opacity: 0.95;
  }

  .error__details {
    margin-top: var(--space-4);
  }

  summary {
    cursor: pointer;
    font-weight: 700;
  }

  pre {
    margin: var(--space-3) 0 0;
    padding: var(--space-4);
    border-radius: var(--radius-md);
    background: rgba(15, 23, 42, 0.65);
    overflow: auto;
    white-space: pre-wrap;
    word-break: break-word;
  }
</style>
